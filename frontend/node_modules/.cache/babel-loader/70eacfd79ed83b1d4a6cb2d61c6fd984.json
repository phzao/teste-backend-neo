{"ast":null,"code":"import _regeneratorRuntime from \"/Users/paulohenriquepachecobotelho/Dev/teste-backend-neo/frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/paulohenriquepachecobotelho/Dev/teste-backend-neo/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/paulohenriquepachecobotelho/Dev/teste-backend-neo/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/paulohenriquepachecobotelho/Dev/teste-backend-neo/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/paulohenriquepachecobotelho/Dev/teste-backend-neo/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/paulohenriquepachecobotelho/Dev/teste-backend-neo/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/paulohenriquepachecobotelho/Dev/teste-backend-neo/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/paulohenriquepachecobotelho/Dev/teste-backend-neo/frontend/src/components/style/BoxList.js\";\nimport React, { Component } from 'react';\nimport { GetData, PutData } from '../../services/Methods/API';\nimport ModalConfirmBasic from '../Modal';\nimport { BoxItem } from './BoxItem';\n\nvar BoxList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(BoxList, _Component);\n\n  function BoxList() {\n    var _this;\n\n    _classCallCheck(this, BoxList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BoxList).call(this));\n\n    _this.BlacklistOffOpen = function () {\n      return _this.setState({\n        isBlacklistOffOpen: true\n      });\n    };\n\n    _this.BlacklistOffClose = function () {\n      return _this.setState({\n        isBlacklistOffOpen: false\n      });\n    };\n\n    _this.BlacklistOpen = function () {\n      return _this.setState({\n        isBlacklistOpen: true\n      });\n    };\n\n    _this.BlacklistClose = function () {\n      return _this.setState({\n        isBlacklistOpen: false\n      });\n    };\n\n    _this.getData =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var list;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return GetData(\"documents\");\n\n            case 2:\n              list = _context.sent;\n\n              if (list.status === \"success\") {\n                _this.setState({\n                  list: list.data\n                });\n              }\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    _this.setBlacklist =\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(id) {\n        var status;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return PutData(\"\", \"blacklist/add/\".concat(id));\n\n              case 2:\n                status = _context2.sent;\n\n                if (!(status === 204)) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                _this.getData();\n\n                return _context2.abrupt(\"return\");\n\n              case 6:\n                _this.clearDocument();\n\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    _this.clearDocument = function () {\n      return _this.setState({\n        document: {}\n      });\n    };\n\n    _this.unsetBlacklist =\n    /*#__PURE__*/\n    function () {\n      var _ref3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(id) {\n        var status;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return PutData(\"\", \"blacklist/del/\".concat(id));\n\n              case 2:\n                status = _context3.sent;\n\n                if (!(status === 204)) {\n                  _context3.next = 6;\n                  break;\n                }\n\n                _this.getData();\n\n                return _context3.abrupt(\"return\");\n\n              case 6:\n                _this.clearDocument();\n\n              case 7:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      return function (_x2) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n\n    _this.state = {\n      list: [],\n      document: {},\n      queryList: \"\",\n      queryBlacklist: \"\",\n      isBlacklistOffOpen: false,\n      isOpenDelete: false,\n      isBlacklistOpen: false\n    };\n    return _this;\n  }\n\n  _createClass(BoxList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getData();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var addItem = this.props.addItem;\n\n      if (typeof addItem === \"undefined\") {\n        return;\n      }\n\n      if (Object.keys(addItem).length > 0) {\n        this.getData();\n        this.props.refreshItem();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          list = _this$state.list,\n          isBlacklistOffOpen = _this$state.isBlacklistOffOpen,\n          queryList = _this$state.queryList,\n          isBlacklistOpen = _this$state.isBlacklistOpen,\n          queryBlacklist = _this$state.queryBlacklist,\n          document = _this$state.document;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(ModalConfirmBasic, {\n        content: \"Remover \\\"\".concat(typeof document.cpf === \"undefined\" ? document.cnpj : document.cpf, \"\\\" da blacklist?\"),\n        title: \"Confirmar Remoção\",\n        modalIsOpen: isBlacklistOffOpen,\n        onConfirm: function onConfirm() {\n          _this2.BlacklistOffClose();\n\n          _this2.unsetBlacklist(document._id);\n        },\n        onCancel: function onCancel() {\n          return _this2.setState({\n            document: {}\n          }, function () {\n            return _this2.BlacklistOffClose();\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), React.createElement(ModalConfirmBasic, {\n        content: \"Confirmar a inclus\\xE3o de \\\"\".concat(typeof document.cpf === \"undefined\" ? document.cnpj : document.cpf, \"\\\" na blacklist?\"),\n        title: \"Confirmar Inclusão\",\n        modalIsOpen: isBlacklistOpen,\n        onConfirm: function onConfirm() {\n          _this2.BlacklistClose();\n\n          _this2.setBlacklist(document._id);\n        },\n        onCancel: function onCancel() {\n          return _this2.setState({\n            document: {}\n          }, function () {\n            return _this2.BlacklistClose();\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"my-3 p-3 bg-white rounded shadow-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        className: \"pb-2 mb-0 title-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"\\xDAltimos 10 registros CPF/CNPJ\")), React.createElement(\"div\", {\n        className: \"col-md-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        onKeyUp: function onKeyUp(input) {\n          return _this2.setState({\n            queryList: input.target.value\n          });\n        },\n        className: \"form-control form-control-sm mr-sm-2 inputSearch-position\",\n        placeholder: \"filtrar \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col border-bottom border-gray\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      })), typeof list !== \"undefined\" && list.length > 0 && list.filter(function (document) {\n        return document.status !== 'blocked';\n      }).filter(function (document) {\n        if (queryList.length === 0) {\n          return document;\n        }\n\n        if (typeof document.cnpj !== \"undefined\" && document.cnpj.includes(queryList)) {\n          return document;\n        }\n\n        if (typeof document.cpf !== \"undefined\" && document.cpf.includes(queryList)) {\n          return document;\n        }\n\n        return false;\n      }).map(function (document, i) {\n        return React.createElement(BoxItem, {\n          key: i,\n          document: document,\n          onBlacklist: function onBlacklist() {\n            return _this2.setState({\n              document: document\n            }, function () {\n              return _this2.BlacklistOpen();\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137\n          },\n          __self: this\n        });\n      }))), React.createElement(\"div\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"my-3 p-3 bg-white rounded shadow-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        className: \"pb-2 mb-0 title-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \"Blacklist\")), React.createElement(\"div\", {\n        className: \"col-md-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        onKeyUp: function onKeyUp(input) {\n          return _this2.setState({\n            queryBlacklist: input.target.value\n          });\n        },\n        className: \"form-control form-control-sm mr-sm-2 inputSearch-position\",\n        placeholder: \"filtrar por titulo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col border-bottom border-gray\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      })), typeof list !== \"undefined\" && list.length > 0 && list.filter(function (document) {\n        return document.status === 'blocked';\n      }).filter(function (document) {\n        if (queryBlacklist.length === 0) {\n          return document;\n        }\n\n        if (typeof document.cnpj !== \"undefined\" && document.cnpj.includes(queryBlacklist)) {\n          return document;\n        }\n\n        if (typeof document.cpf !== \"undefined\" && document.cpf.includes(queryBlacklist)) {\n          return document;\n        }\n\n        return false;\n      }).map(function (document, i) {\n        return React.createElement(BoxItem, {\n          key: i,\n          document: document,\n          offBlacklist: function offBlacklist() {\n            _this2.setState({\n              document: document\n            }, function () {\n              return _this2.BlacklistOffOpen();\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        });\n      })))));\n    }\n  }]);\n\n  return BoxList;\n}(Component);\n\nexport default BoxList;","map":{"version":3,"sources":["/Users/paulohenriquepachecobotelho/Dev/teste-backend-neo/frontend/src/components/style/BoxList.js"],"names":["React","Component","GetData","PutData","ModalConfirmBasic","BoxItem","BoxList","BlacklistOffOpen","setState","isBlacklistOffOpen","BlacklistOffClose","BlacklistOpen","isBlacklistOpen","BlacklistClose","getData","list","status","data","setBlacklist","id","clearDocument","document","unsetBlacklist","state","queryList","queryBlacklist","isOpenDelete","addItem","props","Object","keys","length","refreshItem","cpf","cnpj","_id","input","target","value","filter","includes","map","i"],"mappings":"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","sourcesContent":["import React, { Component }  from 'react';\nimport { GetData, PutData } from '../../services/Methods/API';\nimport ModalConfirmBasic from '../Modal';\nimport { BoxItem } from './BoxItem';\n\nclass BoxList extends Component {\n    constructor() {\n      super();\n      this.state = {\n        list:[],\n        document:{},\n        queryList: \"\",\n        queryBlacklist: \"\",\n        isBlacklistOffOpen: false,\n        isOpenDelete: false,\n        isBlacklistOpen: false\n      }\n    }\n\n    BlacklistOffOpen = () => this.setState({isBlacklistOffOpen: true});\n    BlacklistOffClose = () => this.setState({isBlacklistOffOpen: false});\n\n    BlacklistOpen = () => this.setState({isBlacklistOpen: true});\n    BlacklistClose = () => this.setState({isBlacklistOpen: false});\n    \n    getData = async () => {\n      const list = await GetData(\"documents\");\n      if (list.status=== \"success\") {\n        this.setState({list: list.data});\n      }\n    }      \n  \n    componentDidMount() {\n        this.getData()\n    }\n\n    componentDidUpdate() {\n        const { addItem } = this.props\n        if (typeof addItem === \"undefined\") {\n            return \n        }\n        if (Object.keys(addItem).length>0) {\n            this.getData()\n            this.props.refreshItem()\n        }\n    }\n\n    setBlacklist = async (id) => {\n        const status = await PutData(\"\", `blacklist/add/${id}`)\n\n        if (status===204) {\n            this.getData()\n\n            return\n        }\n        this.clearDocument()\n    }\n\n    clearDocument = () => this.setState({document: {}})\n\n    unsetBlacklist = async (id) => {\n        const status = await PutData(\"\", `blacklist/del/${id}`)\n\n        if (status===204) {\n            this.getData()\n\n            return\n        }\n        this.clearDocument()\n    }\n  \n    render() {\n      const { list, isBlacklistOffOpen, queryList, isBlacklistOpen, queryBlacklist, document } = this.state\n\n      return (\n          <div>\n              <ModalConfirmBasic\n                content={`Remover \"${typeof document.cpf===\"undefined\"?document.cnpj:document.cpf}\" da blacklist?`}\n                title={\"Confirmar Remoção\"}\n                modalIsOpen={isBlacklistOffOpen}\n                onConfirm={()=>{\n                    this.BlacklistOffClose()\n                    this.unsetBlacklist(document._id)\n                }}\n                onCancel={()=>this.setState({document: {}}, ()=>this.BlacklistOffClose())}\n               />\n\n            <ModalConfirmBasic\n                content={`Confirmar a inclusão de \"${typeof document.cpf===\"undefined\"?document.cnpj:document.cpf}\" na blacklist?`}\n                title={\"Confirmar Inclusão\"}\n                modalIsOpen={isBlacklistOpen}\n                onConfirm={()=>{\n                    this.BlacklistClose()\n                    this.setBlacklist(document._id)\n                }}\n                onCancel={()=>this.setState({document: {}}, ()=>this.BlacklistClose())}\n               />\n\n            <div className=\"row\">\n                <div className=\"col-md-6\">\n                    <div className=\"my-3 p-3 bg-white rounded shadow-sm\">\n                        <div className=\"row\">\n                            <div className=\"col-md\">\n                                <h6 className=\"pb-2 mb-0 title-list\">Últimos 10 registros CPF/CNPJ</h6>\n                            </div>\n                            <div className=\"col-md-5\">\n                                <input \n                                    type=\"text\"\n                                    onKeyUp={(input)=>this.setState({queryList:input.target.value})} \n                                    className=\"form-control form-control-sm mr-sm-2 inputSearch-position\" \n                                    placeholder=\"filtrar \" />\n                            </div>\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"col border-bottom border-gray\"></div>\n                        </div>\n                    {typeof list !== \"undefined\" && \n                        list.length > 0 && \n                        list\n                            .filter(document=>document.status!=='blocked')\n                            .filter(document=>{\n                                if (queryList.length===0) {\n                                    return document;\n                                }\n\n                                if (typeof document.cnpj !== \"undefined\" && document.cnpj.includes(queryList)) {\n                                    return document;\n                                }\n\n                                if (typeof document.cpf !== \"undefined\" && document.cpf.includes(queryList)) {\n                                    return document;\n                                }\n\n                                return false\n                            })\n                            .map((document, i)=>{\n                                return <BoxItem\n                                            key={i}\n                                            document={document}\n                                            onBlacklist={()=>this.setState({document: document}, ()=>this.BlacklistOpen())} \n                                            />\n                            })}\n                    </div>\n                </div>\n                <div className=\"col-md-6\">\n                    <div className=\"my-3 p-3 bg-white rounded shadow-sm\">\n                        <div className=\"row\">\n                            <div className=\"col-md\">\n                                <h6 className=\"pb-2 mb-0 title-list\">Blacklist</h6>\n                            </div>\n                            <div className=\"col-md-5\">\n                                <input \n                                    type=\"text\" \n                                    onKeyUp={(input)=>this.setState({queryBlacklist:input.target.value})} \n                                    className=\"form-control form-control-sm mr-sm-2 inputSearch-position\" \n                                    placeholder=\"filtrar por titulo\" />\n                            </div>\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"col border-bottom border-gray\"></div>\n                        </div>\n                        \n                        {typeof list !== \"undefined\" && \n                        list.length > 0 && \n                        list\n                            .filter(document=>document.status==='blocked')\n                            .filter(document=>{\n                                if (queryBlacklist.length===0) {\n                                    return document;\n                                }\n\n                                if (typeof document.cnpj !== \"undefined\" && document.cnpj.includes(queryBlacklist)) {\n                                    return document;\n                                }\n\n                                if (typeof document.cpf !== \"undefined\" && document.cpf.includes(queryBlacklist)) {\n                                    return document;\n                                }\n\n                                return false\n                            }).map((document, i)=>{\n                                return <BoxItem\n                                            key={i} \n                                            document={document} \n                                            offBlacklist={()=>{\n                                                this.setState({document: document}, ()=>this.BlacklistOffOpen())\n                                            }\n                                            } />\n                            })}\n                    </div>\n                </div>\n            </div>\n        </div>\n      );\n    }\n  }\n  \nexport default BoxList;"]},"metadata":{},"sourceType":"module"}