{"ast":null,"code":"import _regeneratorRuntime from \"/Users/paulohenriquepachecobotelho/Dev/teste-backend-neo/frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/paulohenriquepachecobotelho/Dev/teste-backend-neo/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/paulohenriquepachecobotelho/Dev/teste-backend-neo/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/paulohenriquepachecobotelho/Dev/teste-backend-neo/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/paulohenriquepachecobotelho/Dev/teste-backend-neo/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/paulohenriquepachecobotelho/Dev/teste-backend-neo/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/paulohenriquepachecobotelho/Dev/teste-backend-neo/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/paulohenriquepachecobotelho/Dev/teste-backend-neo/frontend/src/components/style/BoxList.js\";\nimport React, { Component } from 'react';\nimport { GetData, PutData, DeleteData } from '../../services/Methods/API';\nimport ModalConfirmBasic from '../Modal';\nimport { BoxItem } from './BoxItem';\n\nvar BoxList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(BoxList, _Component);\n\n  function BoxList() {\n    var _this;\n\n    _classCallCheck(this, BoxList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BoxList).call(this));\n\n    _this.ReopenOpen = function () {\n      return _this.setState({\n        isOpenReopen: true\n      });\n    };\n\n    _this.ReopenClose = function () {\n      return _this.setState({\n        isOpenReopen: false\n      });\n    };\n\n    _this.DeleteOpen = function () {\n      return _this.setState({\n        isOpenDelete: true\n      });\n    };\n\n    _this.DeleteClose = function () {\n      return _this.setState({\n        isOpenDelete: false\n      });\n    };\n\n    _this.DoneOpen = function () {\n      return _this.setState({\n        isOpenDone: true\n      });\n    };\n\n    _this.DoneClose = function () {\n      return _this.setState({\n        isOpenDone: false\n      });\n    };\n\n    _this.getData =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var list;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return GetData(\"documents\");\n\n            case 2:\n              list = _context.sent;\n\n              if (list.status === \"success\") {\n                _this.setState({\n                  list: list.data\n                });\n              }\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    _this.generateColor = function () {\n      return '#' + Math.random().toString(16).substr(-6);\n    };\n\n    _this.setDone =\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(id) {\n        var status;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return PutData(id, \"/done\");\n\n              case 2:\n                status = _context2.sent;\n\n                if (!(status === 204)) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                _this.getData();\n\n                return _context2.abrupt(\"return\");\n\n              case 6:\n                _this.clearTask();\n\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    _this.clearTask = function () {\n      _this.setState({\n        task: {}\n      });\n    };\n\n    _this.setOpen =\n    /*#__PURE__*/\n    function () {\n      var _ref3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(id) {\n        var status;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return PutData(id, \"/open\");\n\n              case 2:\n                status = _context3.sent;\n\n                if (!(status === 204)) {\n                  _context3.next = 6;\n                  break;\n                }\n\n                _this.getData();\n\n                return _context3.abrupt(\"return\");\n\n              case 6:\n                _this.clearTask();\n\n              case 7:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      return function (_x2) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n\n    _this.delete =\n    /*#__PURE__*/\n    function () {\n      var _ref4 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(id) {\n        var status;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return DeleteData(id);\n\n              case 2:\n                status = _context4.sent;\n\n                if (!(status === 204)) {\n                  _context4.next = 6;\n                  break;\n                }\n\n                _this.getData();\n\n                return _context4.abrupt(\"return\");\n\n              case 6:\n                _this.clearTask();\n\n              case 7:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      return function (_x3) {\n        return _ref4.apply(this, arguments);\n      };\n    }();\n\n    _this.state = {\n      list: [],\n      task: {},\n      queryOpen: \"\",\n      queryCloseDone: \"\",\n      isOpenReopen: false,\n      isOpenDelete: false,\n      isOpenDone: false\n    };\n    return _this;\n  }\n\n  _createClass(BoxList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getData();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var addTask = this.props.addTask;\n\n      if (typeof addTask === \"undefined\") {\n        return;\n      }\n\n      if (Object.keys(addTask).length > 0) {\n        this.getData();\n        this.props.refreshTask();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          list = _this$state.list,\n          isOpenReopen = _this$state.isOpenReopen,\n          isOpenDelete = _this$state.isOpenDelete,\n          queryCloseDone = _this$state.queryCloseDone,\n          queryOpen = _this$state.queryOpen,\n          isOpenDone = _this$state.isOpenDone,\n          task = _this$state.task;\n      console.log(\"list\", list);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(ModalConfirmBasic, {\n        content: \"A task \\\"\".concat(task.title, \"\\\" ser\\xE1 reaberta, confirma a\\xE7\\xE3o?\"),\n        title: \"Confirmar reabertura\",\n        modalIsOpen: isOpenReopen,\n        onConfirm: function onConfirm() {\n          _this2.ReopenClose();\n\n          _this2.setOpen(task.id);\n        },\n        onCancel: function onCancel() {\n          _this2.setState({\n            task: {}\n          }, function () {\n            return _this2.ReopenClose();\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }), React.createElement(ModalConfirmBasic, {\n        content: \"A task \\\"\".concat(task.title, \"\\\" ser\\xE1 setada como conclu\\xEDda, confirma a\\xE7\\xE3o?\"),\n        title: \"Confirmar conclusão\",\n        modalIsOpen: isOpenDone,\n        onConfirm: function onConfirm() {\n          _this2.DoneClose();\n\n          _this2.setDone(task.id);\n        },\n        onCancel: function onCancel() {\n          _this2.setState({\n            task: {}\n          }, function () {\n            return _this2.DoneClose();\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }), React.createElement(ModalConfirmBasic, {\n        content: \"A task \\\"\".concat(task.title, \"\\\" ser\\xE1 exclu\\xEDda, confirma a\\xE7\\xE3o?\"),\n        title: \"Confirmar exclusão\",\n        modalIsOpen: isOpenDelete,\n        onConfirm: function onConfirm() {\n          _this2.DeleteClose();\n\n          _this2.delete(task.id);\n        },\n        onCancel: function onCancel() {\n          _this2.setState({\n            task: {}\n          }, function () {\n            return _this2.DeleteClose();\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"my-3 p-3 bg-white rounded shadow-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        className: \"pb-2 mb-0 title-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \"Em aberto\")), React.createElement(\"div\", {\n        className: \"col-md\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        onKeyUp: function onKeyUp(input) {\n          return _this2.setState({\n            queryOpen: input.target.value\n          });\n        },\n        className: \"form-control form-control-sm mr-sm-2 inputSearch-position\",\n        placeholder: \"filtrar por titulo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col border-bottom border-gray\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      })), typeof list !== \"undefined\" && list.length > 0 && list.filter(function (task) {\n        return task.deleted_at === null && task.done_at === null;\n      }).filter(function (task) {\n        var query = queryOpen.toLocaleLowerCase();\n        var title = task.title.toLocaleLowerCase();\n\n        if (query.length === 0) {\n          return task;\n        }\n\n        if (title.includes(query)) {\n          return task;\n        }\n\n        return false;\n      }).map(function (task, i) {\n        var colorBox = _this2.generateColor();\n\n        return React.createElement(BoxItem, {\n          key: i,\n          colorBox: colorBox,\n          task: task,\n          onDone: function onDone() {\n            return _this2.setState({\n              task: task\n            }, function () {\n              return _this2.DoneOpen();\n            });\n          },\n          onDelete: function onDelete() {\n            return _this2.setState({\n              task: task\n            }, function () {\n              return _this2.DeleteOpen();\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168\n          },\n          __self: this\n        });\n      }))), React.createElement(\"div\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"my-3 p-3 bg-white rounded shadow-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        className: \"pb-2 mb-0 title-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, \"Blacklist\")), React.createElement(\"div\", {\n        className: \"col-md pt-md-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        onKeyUp: function onKeyUp(input) {\n          return _this2.setState({\n            queryCloseDone: input.target.value\n          });\n        },\n        className: \"form-control form-control-sm mr-sm-2 inputSearch-position\",\n        placeholder: \"filtrar por titulo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col border-bottom border-gray\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      })), typeof list !== \"undefined\" && list.length > 0 && list.filter(function (task) {\n        return task.deleted_at !== null || task.done_at !== null;\n      }).filter(function (task) {\n        // const query = queryCloseDone.toLocaleLowerCase();\n        // const title = task.title.toLocaleLowerCase();\n        // if (query.length===0) {\n        //     return task;\n        // }\n        // if (title.includes(query)) {\n        //     return task;\n        // }\n        return false;\n      }).map(function (task, i) {\n        var colorBox = _this2.generateColor();\n\n        return React.createElement(BoxItem, {\n          key: i,\n          colorBox: colorBox,\n          task: task,\n          onOpen: function onOpen() {\n            _this2.setState({\n              task: task\n            }, function () {\n              return _this2.ReopenOpen();\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210\n          },\n          __self: this\n        });\n      })))));\n    }\n  }]);\n\n  return BoxList;\n}(Component);\n\nexport default BoxList;","map":{"version":3,"sources":["/Users/paulohenriquepachecobotelho/Dev/teste-backend-neo/frontend/src/components/style/BoxList.js"],"names":["React","Component","GetData","PutData","DeleteData","ModalConfirmBasic","BoxItem","BoxList","ReopenOpen","setState","isOpenReopen","ReopenClose","DeleteOpen","isOpenDelete","DeleteClose","DoneOpen","isOpenDone","DoneClose","getData","list","status","data","generateColor","Math","random","toString","substr","setDone","id","clearTask","task","setOpen","delete","state","queryOpen","queryCloseDone","addTask","props","Object","keys","length","refreshTask","console","log","title","input","target","value","filter","deleted_at","done_at","query","toLocaleLowerCase","includes","map","i","colorBox"],"mappings":"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","sourcesContent":["import React, { Component }  from 'react';\nimport { GetData, PutData, DeleteData } from '../../services/Methods/API';\nimport ModalConfirmBasic from '../Modal';\nimport { BoxItem } from './BoxItem';\n\nclass BoxList extends Component {\n    constructor() {\n      super();\n      this.state = {\n        list:[],\n        task:{},\n        queryOpen: \"\",\n        queryCloseDone: \"\",\n        isOpenReopen: false,\n        isOpenDelete: false,\n        isOpenDone: false\n      }\n    }\n\n    ReopenOpen = () => this.setState({isOpenReopen: true});\n    ReopenClose = () => this.setState({isOpenReopen: false});\n\n    DeleteOpen = () => this.setState({isOpenDelete: true});\n    DeleteClose = () => this.setState({isOpenDelete: false});\n\n    DoneOpen = () => this.setState({isOpenDone: true});\n    DoneClose = () => this.setState({isOpenDone: false});\n    \n    getData = async () => {\n      const list = await GetData(\"documents\");\n      if (list.status=== \"success\") {\n        this.setState({list: list.data});\n      }\n    }\n\n    generateColor = ()=>{\n        return '#' +  Math.random().toString(16).substr(-6);\n      }\n  \n    componentDidMount() {\n        this.getData()\n    }\n\n    componentDidUpdate() {\n        const { addTask } = this.props\n        if (typeof addTask === \"undefined\") {\n            return \n        }\n        if (Object.keys(addTask).length>0) {\n            this.getData()\n            this.props.refreshTask()\n        }\n    }\n\n    setDone = async (id) => {\n        const status = await PutData(id, \"/done\")\n\n        if (status===204) {\n            this.getData()\n\n            return\n        }\n        this.clearTask()\n    }\n\n    clearTask = () => {\n        this.setState({task: {}})\n    }\n\n    setOpen = async (id) => {\n        const status = await PutData(id, \"/open\")\n\n        if (status===204) {\n            this.getData()\n\n            return\n        }\n        this.clearTask()\n    }\n\n    delete = async (id) => {\n        const status = await DeleteData(id)\n\n        if (status===204) {\n            this.getData()\n\n            return \n        }\n        this.clearTask()\n    }\n  \n    render() {\n      const { list, isOpenReopen, isOpenDelete, queryCloseDone, queryOpen, isOpenDone, task } = this.state\nconsole.log(\"list\", list)\n      return (\n          <div>\n              <ModalConfirmBasic\n                content={`A task \"${task.title}\" será reaberta, confirma ação?`}\n                title={\"Confirmar reabertura\"}\n                modalIsOpen={isOpenReopen}\n                onConfirm={()=>{\n                    this.ReopenClose()\n                    this.setOpen(task.id)\n                }}\n                onCancel={()=>{\n                    this.setState({task: {}}, ()=>this.ReopenClose())\n                }}\n               />\n\n            <ModalConfirmBasic\n                content={`A task \"${task.title}\" será setada como concluída, confirma ação?`}\n                title={\"Confirmar conclusão\"}\n                modalIsOpen={isOpenDone}\n                onConfirm={()=>{\n                    this.DoneClose()\n                    this.setDone(task.id)\n                }}\n                onCancel={()=>{\n                    this.setState({task: {}}, ()=>this.DoneClose())\n                }}\n               />\n\n            <ModalConfirmBasic\n                content={`A task \"${task.title}\" será excluída, confirma ação?`}\n                title={\"Confirmar exclusão\"}\n                modalIsOpen={isOpenDelete}\n                onConfirm={()=>{\n                    this.DeleteClose()\n                    this.delete(task.id)\n                }}\n                onCancel={()=>{\n                    this.setState({task: {}}, ()=>this.DeleteClose())\n                }}\n               />\n            <div className=\"row\">\n                <div className=\"col-md-6\">\n                    <div className=\"my-3 p-3 bg-white rounded shadow-sm\">\n                        <div className=\"row\">\n                            <div className=\"col-md-4\">\n                                <h6 className=\"pb-2 mb-0 title-list\">Em aberto</h6>\n                            </div>\n                            <div className=\"col-md\">\n                                <input type=\"text\" onKeyUp={(input)=>this.setState({queryOpen:input.target.value})} className=\"form-control form-control-sm mr-sm-2 inputSearch-position\" placeholder=\"filtrar por titulo\" />\n                            </div>\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"col border-bottom border-gray\"></div>\n                        </div>\n                    {typeof list !== \"undefined\" && \n                        list.length > 0 && \n                        list\n                            .filter(task=>task.deleted_at===null && task.done_at===null)\n                            .filter(task=>{\n                                const query = queryOpen.toLocaleLowerCase();\n                                const title = task.title.toLocaleLowerCase();\n\n                                if (query.length===0) {\n                                    return task;\n                                }\n\n                                if (title.includes(query)) {\n                                    return task;\n                                }\n                                return false\n                            })\n                            .map((task, i)=>{\n                                const colorBox = this.generateColor()\n                                return <BoxItem\n                                            key={i} \n                                            colorBox={colorBox} \n                                            task={task} \n                                            onDone={()=>this.setState({task: task}, ()=>this.DoneOpen())} \n                                            onDelete={()=>this.setState({task: task}, ()=>this.DeleteOpen())} />\n                            })}\n                    </div>\n                </div>\n                <div className=\"col-md-6\">\n                    <div className=\"my-3 p-3 bg-white rounded shadow-sm\">\n                        <div className=\"row\">\n                            <div className=\"col-md-6\">\n                                <h6 className=\"pb-2 mb-0 title-list\">Blacklist</h6>\n                            </div>\n                            <div className=\"col-md pt-md-2\">\n                                <input type=\"text\" onKeyUp={(input)=>this.setState({queryCloseDone:input.target.value})} className=\"form-control form-control-sm mr-sm-2 inputSearch-position\" placeholder=\"filtrar por titulo\" />\n                            </div>\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"col border-bottom border-gray\"></div>\n                        </div>\n                        \n                        {typeof list !== \"undefined\" && \n                        list.length > 0 && \n                        list\n                            .filter(task=>task.deleted_at!==null || task.done_at!==null)\n                            .filter(task=>{\n                                // const query = queryCloseDone.toLocaleLowerCase();\n                                // const title = task.title.toLocaleLowerCase();\n\n                                // if (query.length===0) {\n                                //     return task;\n                                // }\n                                \n                                // if (title.includes(query)) {\n                                //     return task;\n                                // }\n                                return false\n                            })\n                            .map((task, i)=>{\n                                const colorBox = this.generateColor()\n                                return <BoxItem\n                                            key={i} \n                                            colorBox={colorBox} \n                                            task={task} \n                                            onOpen={()=>{\n                                                this.setState({task: task}, ()=>this.ReopenOpen())\n                                            }\n                                            } />\n                            })}\n                    </div>\n                </div>\n            </div>\n        </div>\n      );\n    }\n  }\n  \nexport default BoxList;"]},"metadata":{},"sourceType":"module"}