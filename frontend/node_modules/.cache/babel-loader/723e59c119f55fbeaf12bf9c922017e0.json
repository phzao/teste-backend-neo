{"ast":null,"code":"import _regeneratorRuntime from \"/Users/paulohenriquepachecobotelho/Dev/teste-backend-neo/frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/paulohenriquepachecobotelho/Dev/teste-backend-neo/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/paulohenriquepachecobotelho/Dev/teste-backend-neo/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/paulohenriquepachecobotelho/Dev/teste-backend-neo/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/paulohenriquepachecobotelho/Dev/teste-backend-neo/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/paulohenriquepachecobotelho/Dev/teste-backend-neo/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/paulohenriquepachecobotelho/Dev/teste-backend-neo/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/paulohenriquepachecobotelho/Dev/teste-backend-neo/frontend/src/components/style/BoxList.js\";\nimport React, { Component } from 'react';\nimport { GetData, PutData, DeleteData } from '../../services/Methods/API';\nimport ModalConfirmBasic from '../Modal';\nimport { BoxItem } from './BoxItem';\n\nvar BoxList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(BoxList, _Component);\n\n  function BoxList() {\n    var _this;\n\n    _classCallCheck(this, BoxList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BoxList).call(this));\n\n    _this.ReopenOpen = function () {\n      return _this.setState({\n        isOpenReopen: true\n      });\n    };\n\n    _this.ReopenClose = function () {\n      return _this.setState({\n        isOpenReopen: false\n      });\n    };\n\n    _this.DeleteOpen = function () {\n      return _this.setState({\n        isOpenDelete: true\n      });\n    };\n\n    _this.DeleteClose = function () {\n      return _this.setState({\n        isOpenDelete: false\n      });\n    };\n\n    _this.BlacklistOpen = function () {\n      return _this.setState({\n        isBlacklistOpen: true\n      });\n    };\n\n    _this.BlacklistClose = function () {\n      return _this.setState({\n        isBlacklistOpen: false\n      });\n    };\n\n    _this.getData =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var list;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return GetData(\"documents\");\n\n            case 2:\n              list = _context.sent;\n\n              if (list.status === \"success\") {\n                _this.setState({\n                  list: list.data\n                });\n              }\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    _this.generateColor = function () {\n      return '#' + Math.random().toString(16).substr(-6);\n    };\n\n    _this.setBlacklist =\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(id) {\n        var status;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return PutData(id, \"/blacklist/add/\".concat(id));\n\n              case 2:\n                status = _context2.sent;\n\n                if (!(status === 204)) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                _this.getData();\n\n                return _context2.abrupt(\"return\");\n\n              case 6:\n                _this.clearTask();\n\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    _this.clearTask = function () {\n      return _this.setState({\n        task: {}\n      });\n    };\n\n    _this.setOpen =\n    /*#__PURE__*/\n    function () {\n      var _ref3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(id) {\n        var status;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return PutData(id, \"/open\");\n\n              case 2:\n                status = _context3.sent;\n\n                if (!(status === 204)) {\n                  _context3.next = 6;\n                  break;\n                }\n\n                _this.getData();\n\n                return _context3.abrupt(\"return\");\n\n              case 6:\n                _this.clearTask();\n\n              case 7:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      return function (_x2) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n\n    _this.delete =\n    /*#__PURE__*/\n    function () {\n      var _ref4 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(id) {\n        var status;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return DeleteData(id);\n\n              case 2:\n                status = _context4.sent;\n\n                if (!(status === 204)) {\n                  _context4.next = 6;\n                  break;\n                }\n\n                _this.getData();\n\n                return _context4.abrupt(\"return\");\n\n              case 6:\n                _this.clearTask();\n\n              case 7:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      return function (_x3) {\n        return _ref4.apply(this, arguments);\n      };\n    }();\n\n    _this.state = {\n      list: [],\n      task: {},\n      queryOpen: \"\",\n      queryCloseDone: \"\",\n      isOpenReopen: false,\n      isOpenDelete: false,\n      isBlacklistOpen: false\n    };\n    return _this;\n  }\n\n  _createClass(BoxList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getData();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var addItem = this.props.addItem;\n\n      if (typeof addItem === \"undefined\") {\n        return;\n      }\n\n      if (Object.keys(addItem).length > 0) {\n        this.getData();\n        this.props.refreshItem();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          list = _this$state.list,\n          isOpenReopen = _this$state.isOpenReopen,\n          isOpenDelete = _this$state.isOpenDelete,\n          queryCloseDone = _this$state.queryCloseDone,\n          queryOpen = _this$state.queryOpen,\n          isSetBlacklist = _this$state.isSetBlacklist,\n          document = _this$state.document;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(ModalConfirmBasic, {\n        content: \"Confirmar a inclus\\xE3o de \\\"\".concat(document.cpf || document.cnpj, \"\\\" na blacklist, confirma a\\xE7\\xE3o?\"),\n        title: \"Confirmar Inclus√£o na Blacklist\",\n        modalIsOpen: isSetBlacklist,\n        onConfirm: function onConfirm() {\n          _this2.BlacklistClose();\n\n          _this2.setBlacklist(document._id);\n        },\n        onCancel: function onCancel() {\n          _this2.setState({\n            task: {}\n          }, function () {\n            return _this2.BlacklistClose();\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"my-3 p-3 bg-white rounded shadow-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        className: \"pb-2 mb-0 title-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"CPF/CNPJ\")), React.createElement(\"div\", {\n        className: \"col-md\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        onKeyUp: function onKeyUp(input) {\n          return _this2.setState({\n            queryOpen: input.target.value\n          });\n        },\n        className: \"form-control form-control-sm mr-sm-2 inputSearch-position\",\n        placeholder: \"filtrar \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col border-bottom border-gray\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      })), typeof list !== \"undefined\" && list.length > 0 && list.filter(function (document) {\n        return document.status !== 'blocked';\n      }) // .filter(task=>{\n      //     const query = queryOpen.toLocaleLowerCase();\n      //     const title = task.title.toLocaleLowerCase();\n      //     if (query.length===0) {\n      //         return task;\n      //     }\n      //     if (title.includes(query)) {\n      //         return task;\n      //     }\n      //     return false\n      // })\n      .map(function (document, i) {\n        var colorBox = _this2.generateColor();\n\n        return React.createElement(BoxItem, {\n          key: i,\n          colorBox: colorBox,\n          document: document,\n          onBlacklist: function onBlacklist() {\n            return _this2.setState({\n              document: document\n            }, function () {\n              return _this2.BlacklistOpen();\n            });\n          } // onDelete={()=>this.setState({task: task}, ()=>this.DeleteOpen())} \n          ,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168\n          },\n          __self: this\n        });\n      }))), React.createElement(\"div\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"my-3 p-3 bg-white rounded shadow-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        className: \"pb-2 mb-0 title-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, \"Blacklist\")), React.createElement(\"div\", {\n        className: \"col-md pt-md-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        onKeyUp: function onKeyUp(input) {\n          return _this2.setState({\n            queryCloseDone: input.target.value\n          });\n        },\n        className: \"form-control form-control-sm mr-sm-2 inputSearch-position\",\n        placeholder: \"filtrar por titulo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col border-bottom border-gray\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      })), typeof list !== \"undefined\" && list.length > 0 && list.filter(function (task) {\n        return task.deleted_at !== null || task.done_at !== null;\n      }).filter(function (task) {\n        // const query = queryCloseDone.toLocaleLowerCase();\n        // const title = task.title.toLocaleLowerCase();\n        // if (query.length===0) {\n        //     return task;\n        // }\n        // if (title.includes(query)) {\n        //     return task;\n        // }\n        return false;\n      }).map(function (task, i) {\n        var colorBox = _this2.generateColor();\n\n        return React.createElement(BoxItem, {\n          key: i,\n          colorBox: colorBox,\n          task: task,\n          onOpen: function onOpen() {\n            _this2.setState({\n              task: task\n            }, function () {\n              return _this2.ReopenOpen();\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 215\n          },\n          __self: this\n        });\n      })))));\n    }\n  }]);\n\n  return BoxList;\n}(Component);\n\nexport default BoxList;","map":{"version":3,"sources":["/Users/paulohenriquepachecobotelho/Dev/teste-backend-neo/frontend/src/components/style/BoxList.js"],"names":["React","Component","GetData","PutData","DeleteData","ModalConfirmBasic","BoxItem","BoxList","ReopenOpen","setState","isOpenReopen","ReopenClose","DeleteOpen","isOpenDelete","DeleteClose","BlacklistOpen","isBlacklistOpen","BlacklistClose","getData","list","status","data","generateColor","Math","random","toString","substr","setBlacklist","id","clearTask","task","setOpen","delete","state","queryOpen","queryCloseDone","addItem","props","Object","keys","length","refreshItem","isSetBlacklist","document","cpf","cnpj","_id","input","target","value","filter","map","i","colorBox","deleted_at","done_at"],"mappings":"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","sourcesContent":["import React, { Component }  from 'react';\nimport { GetData, PutData, DeleteData } from '../../services/Methods/API';\nimport ModalConfirmBasic from '../Modal';\nimport { BoxItem } from './BoxItem';\n\nclass BoxList extends Component {\n    constructor() {\n      super();\n      this.state = {\n        list:[],\n        task:{},\n        queryOpen: \"\",\n        queryCloseDone: \"\",\n        isOpenReopen: false,\n        isOpenDelete: false,\n        isBlacklistOpen: false\n      }\n    }\n\n    ReopenOpen = () => this.setState({isOpenReopen: true});\n    ReopenClose = () => this.setState({isOpenReopen: false});\n\n    DeleteOpen = () => this.setState({isOpenDelete: true});\n    DeleteClose = () => this.setState({isOpenDelete: false});\n\n    BlacklistOpen = () => this.setState({isBlacklistOpen: true});\n    BlacklistClose = () => this.setState({isBlacklistOpen: false});\n    \n    getData = async () => {\n      const list = await GetData(\"documents\");\n      if (list.status=== \"success\") {\n        this.setState({list: list.data});\n      }\n    }\n\n    generateColor = () => '#' +  Math.random().toString(16).substr(-6);\n      \n  \n    componentDidMount() {\n        this.getData()\n    }\n\n    componentDidUpdate() {\n        const { addItem } = this.props\n        if (typeof addItem === \"undefined\") {\n            return \n        }\n        if (Object.keys(addItem).length>0) {\n            this.getData()\n            this.props.refreshItem()\n        }\n    }\n\n    setBlacklist = async (id) => {\n        const status = await PutData(id, `/blacklist/add/${id}`)\n\n        if (status===204) {\n            this.getData()\n\n            return\n        }\n        this.clearTask()\n    }\n\n    clearTask = () => this.setState({task: {}})\n\n    setOpen = async (id) => {\n        const status = await PutData(id, \"/open\")\n\n        if (status===204) {\n            this.getData()\n\n            return\n        }\n        this.clearTask()\n    }\n\n    delete = async (id) => {\n        const status = await DeleteData(id)\n\n        if (status===204) {\n            this.getData()\n\n            return \n        }\n        this.clearTask()\n    }\n  \n    render() {\n      const { list, isOpenReopen, isOpenDelete, queryCloseDone, queryOpen, isSetBlacklist, document } = this.state\n\n      return (\n          <div>\n              {/* <ModalConfirmBasic\n                content={`A task \"${task.title}\" ser√° reaberta, confirma a√ß√£o?`}\n                title={\"Confirmar reabertura\"}\n                modalIsOpen={isOpenReopen}\n                onConfirm={()=>{\n                    this.ReopenClose()\n                    this.setOpen(task.id)\n                }}\n                onCancel={()=>{\n                    this.setState({task: {}}, ()=>this.ReopenClose())\n                }}\n               /> */}\n\n            <ModalConfirmBasic\n                content={`Confirmar a inclus√£o de \"${document.cpf||document.cnpj}\" na blacklist, confirma a√ß√£o?`}\n                title={\"Confirmar Inclus√£o na Blacklist\"}\n                modalIsOpen={isSetBlacklist}\n                onConfirm={()=>{\n                    this.BlacklistClose()\n                    this.setBlacklist(document._id)\n                }}\n                onCancel={()=>{\n                    this.setState({task: {}}, ()=>this.BlacklistClose())\n                }}\n               />\n\n            {/* <ModalConfirmBasic\n                content={`A task \"${task.title}\" ser√° exclu√≠da, confirma a√ß√£o?`}\n                title={\"Confirmar exclus√£o\"}\n                modalIsOpen={isOpenDelete}\n                onConfirm={()=>{\n                    this.DeleteClose()\n                    this.delete(task.id)\n                }}\n                onCancel={()=>{\n                    this.setState({task: {}}, ()=>this.DeleteClose())\n                }}\n               /> */}\n            <div className=\"row\">\n                <div className=\"col-md-6\">\n                    <div className=\"my-3 p-3 bg-white rounded shadow-sm\">\n                        <div className=\"row\">\n                            <div className=\"col-md-4\">\n                                <h6 className=\"pb-2 mb-0 title-list\">CPF/CNPJ</h6>\n                            </div>\n                            <div className=\"col-md\">\n                                <input \n                                    type=\"text\" \n                                    onKeyUp={(input)=>this.setState({queryOpen:input.target.value})} \n                                    className=\"form-control form-control-sm mr-sm-2 inputSearch-position\" placeholder=\"filtrar \" />\n                            </div>\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"col border-bottom border-gray\"></div>\n                        </div>\n                    {typeof list !== \"undefined\" && \n                        list.length > 0 && \n                        list\n                            .filter(document=>document.status!=='blocked')\n                            // .filter(task=>{\n                            //     const query = queryOpen.toLocaleLowerCase();\n                            //     const title = task.title.toLocaleLowerCase();\n\n                            //     if (query.length===0) {\n                            //         return task;\n                            //     }\n\n                            //     if (title.includes(query)) {\n                            //         return task;\n                            //     }\n                            //     return false\n                            // })\n                            .map((document, i)=>{\n                                const colorBox = this.generateColor()\n                                return <BoxItem\n                                            key={i}\n                                            colorBox={colorBox}\n                                            document={document}\n                                            onBlacklist={()=>this.setState({document: document}, ()=>this.BlacklistOpen())} \n                                            // onDelete={()=>this.setState({task: task}, ()=>this.DeleteOpen())} \n                                            />\n                            })}\n                    </div>\n                </div>\n                <div className=\"col-md-6\">\n                    <div className=\"my-3 p-3 bg-white rounded shadow-sm\">\n                        <div className=\"row\">\n                            <div className=\"col-md-6\">\n                                <h6 className=\"pb-2 mb-0 title-list\">Blacklist</h6>\n                            </div>\n                            <div className=\"col-md pt-md-2\">\n                                <input \n                                    type=\"text\" \n                                    onKeyUp={(input)=>this.setState({queryCloseDone:input.target.value})} \n                                    className=\"form-control form-control-sm mr-sm-2 inputSearch-position\" \n                                    placeholder=\"filtrar por titulo\" />\n                            </div>\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"col border-bottom border-gray\"></div>\n                        </div>\n                        \n                        {typeof list !== \"undefined\" && \n                        list.length > 0 && \n                        list\n                            .filter(task=>task.deleted_at!==null || task.done_at!==null)\n                            .filter(task=>{\n                                // const query = queryCloseDone.toLocaleLowerCase();\n                                // const title = task.title.toLocaleLowerCase();\n\n                                // if (query.length===0) {\n                                //     return task;\n                                // }\n                                \n                                // if (title.includes(query)) {\n                                //     return task;\n                                // }\n                                return false\n                            })\n                            .map((task, i)=>{\n                                const colorBox = this.generateColor()\n                                return <BoxItem\n                                            key={i} \n                                            colorBox={colorBox} \n                                            task={task} \n                                            onOpen={()=>{\n                                                this.setState({task: task}, ()=>this.ReopenOpen())\n                                            }\n                                            } />\n                            })}\n                    </div>\n                </div>\n            </div>\n        </div>\n      );\n    }\n  }\n  \nexport default BoxList;"]},"metadata":{},"sourceType":"module"}