{"ast":null,"code":"import _regeneratorRuntime from \"/Users/paulohenriquepachecobotelho/Dev/teste-backend-neo/frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/paulohenriquepachecobotelho/Dev/teste-backend-neo/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/paulohenriquepachecobotelho/Dev/teste-backend-neo/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/paulohenriquepachecobotelho/Dev/teste-backend-neo/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/paulohenriquepachecobotelho/Dev/teste-backend-neo/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/paulohenriquepachecobotelho/Dev/teste-backend-neo/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/paulohenriquepachecobotelho/Dev/teste-backend-neo/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/paulohenriquepachecobotelho/Dev/teste-backend-neo/frontend/src/components/style/BoxList.js\";\nimport React, { Component } from 'react';\nimport { GetData, PutData, DeleteData } from '../../services/Methods/API';\nimport ModalConfirmBasic from '../Modal';\nimport { BoxItem } from './BoxItem';\n\nvar BoxList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(BoxList, _Component);\n\n  function BoxList() {\n    var _this;\n\n    _classCallCheck(this, BoxList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BoxList).call(this));\n\n    _this.BlacklistOffOpen = function () {\n      return _this.setState({\n        isBlacklistOffOpen: true\n      });\n    };\n\n    _this.BlacklistOffClose = function () {\n      return _this.setState({\n        isBlacklistOffOpen: false\n      });\n    };\n\n    _this.DeleteOpen = function () {\n      return _this.setState({\n        isOpenDelete: true\n      });\n    };\n\n    _this.DeleteClose = function () {\n      return _this.setState({\n        isOpenDelete: false\n      });\n    };\n\n    _this.BlacklistOpen = function () {\n      return _this.setState({\n        isBlacklistOpen: true\n      });\n    };\n\n    _this.BlacklistClose = function () {\n      return _this.setState({\n        isBlacklistOpen: false\n      });\n    };\n\n    _this.getData =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var list;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return GetData(\"documents\");\n\n            case 2:\n              list = _context.sent;\n\n              if (list.status === \"success\") {\n                _this.setState({\n                  list: list.data\n                });\n              }\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    _this.setBlacklist =\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(id) {\n        var status;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return PutData(\"\", \"blacklist/add/\".concat(id));\n\n              case 2:\n                status = _context2.sent;\n\n                if (!(status === 204)) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                _this.getData();\n\n                return _context2.abrupt(\"return\");\n\n              case 6:\n                _this.clearDocument();\n\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    _this.clearDocument = function () {\n      return _this.setState({\n        document: {}\n      });\n    };\n\n    _this.unsetBlacklist =\n    /*#__PURE__*/\n    function () {\n      var _ref3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(id) {\n        var status;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return PutData(\"\", \"blacklist/del/\".concat(id));\n\n              case 2:\n                status = _context3.sent;\n\n                if (!(status === 204)) {\n                  _context3.next = 6;\n                  break;\n                }\n\n                _this.getData();\n\n                return _context3.abrupt(\"return\");\n\n              case 6:\n                _this.clearDocument();\n\n              case 7:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      return function (_x2) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n\n    _this.delete =\n    /*#__PURE__*/\n    function () {\n      var _ref4 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(id) {\n        var status;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return DeleteData(id);\n\n              case 2:\n                status = _context4.sent;\n\n                if (!(status === 204)) {\n                  _context4.next = 6;\n                  break;\n                }\n\n                _this.getData();\n\n                return _context4.abrupt(\"return\");\n\n              case 6:\n                _this.clearTask();\n\n              case 7:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      return function (_x3) {\n        return _ref4.apply(this, arguments);\n      };\n    }();\n\n    _this.state = {\n      list: [],\n      document: {},\n      queryList: \"\",\n      queryBlacklist: \"\",\n      isBlacklistOffOpen: false,\n      isOpenDelete: false,\n      isBlacklistOpen: false\n    };\n    return _this;\n  }\n\n  _createClass(BoxList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getData();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var addItem = this.props.addItem;\n\n      if (typeof addItem === \"undefined\") {\n        return;\n      }\n\n      if (Object.keys(addItem).length > 0) {\n        this.getData();\n        this.props.refreshItem();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          list = _this$state.list,\n          isBlacklistOffOpen = _this$state.isBlacklistOffOpen,\n          isOpenDelete = _this$state.isOpenDelete,\n          queryCloseDone = _this$state.queryCloseDone,\n          queryList = _this$state.queryList,\n          isBlacklistOpen = _this$state.isBlacklistOpen,\n          document = _this$state.document;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(ModalConfirmBasic, {\n        content: \"Remove \\\"\".concat(typeof document.cpf === \"undefined\" ? document.cnpj : document.cpf, \"\\\" da blacklist?\"),\n        title: \"Confirmar Remoção\",\n        modalIsOpen: isBlacklistOffOpen,\n        onConfirm: function onConfirm() {\n          _this2.BlacklistOffClose();\n\n          _this2.unsetBlacklist(document._id);\n        },\n        onCancel: function onCancel() {\n          _this2.setState({\n            document: {}\n          }, function () {\n            return _this2.BlacklistOffClose();\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }), React.createElement(ModalConfirmBasic, {\n        content: \"Confirmar a inclus\\xE3o de \\\"\".concat(typeof document.cpf === \"undefined\" ? document.cnpj : document.cpf, \"\\\" na blacklist?\"),\n        title: \"Confirmar Inclusão\",\n        modalIsOpen: isBlacklistOpen,\n        onConfirm: function onConfirm() {\n          _this2.BlacklistClose();\n\n          _this2.setBlacklist(document._id);\n        },\n        onCancel: function onCancel() {\n          _this2.setState({\n            document: {}\n          }, function () {\n            return _this2.BlacklistClose();\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"my-3 p-3 bg-white rounded shadow-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        className: \"pb-2 mb-0 title-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Lista de CPF/CNPJ\")), React.createElement(\"div\", {\n        className: \"col-md-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        onKeyUp: function onKeyUp(input) {\n          return _this2.setState({\n            queryList: input.target.value\n          });\n        },\n        className: \"form-control form-control-sm mr-sm-2 inputSearch-position\",\n        placeholder: \"filtrar \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col border-bottom border-gray\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      })), typeof list !== \"undefined\" && list.length > 0 && list.filter(function (document) {\n        return document.status !== 'blocked';\n      }).filter(function (document) {\n        var query = queryList.toLocaleLowerCase();\n\n        if (query.length === 0) {\n          return document;\n        }\n\n        if (typeof document.cnpj !== \"undefined\" && document.cnpj.includes(query)) {\n          return document;\n        }\n\n        if (typeof document.cpf !== \"undefined\" && document.cpf.includes(query)) {\n          return document;\n        }\n\n        return false;\n      }).map(function (document, i) {\n        return React.createElement(BoxItem, {\n          key: i,\n          document: document,\n          onBlacklist: function onBlacklist() {\n            return _this2.setState({\n              document: document\n            }, function () {\n              return _this2.BlacklistOpen();\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169\n          },\n          __self: this\n        });\n      }))), React.createElement(\"div\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"my-3 p-3 bg-white rounded shadow-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        className: \"pb-2 mb-0 title-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, \"Blacklist\")), React.createElement(\"div\", {\n        className: \"col-md\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        onKeyUp: function onKeyUp(input) {\n          return _this2.setState({\n            queryCloseDone: input.target.value\n          });\n        },\n        className: \"form-control form-control-sm mr-sm-2 inputSearch-position\",\n        placeholder: \"filtrar por titulo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col border-bottom border-gray\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      })), typeof list !== \"undefined\" && list.length > 0 && list.filter(function (document) {\n        return document.status === 'blocked';\n      }).filter(function (document) {\n        var query = queryList.toLocaleLowerCase();\n\n        if (query.length === 0) {\n          return document;\n        }\n\n        if (typeof document.cnpj !== \"undefined\" && document.cnpj.includes(query)) {\n          return document;\n        }\n\n        if (typeof document.cpf !== \"undefined\" && document.cpf.includes(query)) {\n          return document;\n        }\n\n        return false;\n      }).map(function (document, i) {\n        return React.createElement(BoxItem, {\n          key: i,\n          document: document,\n          offBlacklist: function offBlacklist() {\n            _this2.setState({\n              document: document\n            }, function () {\n              return _this2.ReopenOpen();\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216\n          },\n          __self: this\n        });\n      })))));\n    }\n  }]);\n\n  return BoxList;\n}(Component);\n\nexport default BoxList;","map":{"version":3,"sources":["/Users/paulohenriquepachecobotelho/Dev/teste-backend-neo/frontend/src/components/style/BoxList.js"],"names":["React","Component","GetData","PutData","DeleteData","ModalConfirmBasic","BoxItem","BoxList","BlacklistOffOpen","setState","isBlacklistOffOpen","BlacklistOffClose","DeleteOpen","isOpenDelete","DeleteClose","BlacklistOpen","isBlacklistOpen","BlacklistClose","getData","list","status","data","setBlacklist","id","clearDocument","document","unsetBlacklist","delete","clearTask","state","queryList","queryBlacklist","addItem","props","Object","keys","length","refreshItem","queryCloseDone","cpf","cnpj","_id","input","target","value","filter","query","toLocaleLowerCase","includes","map","i","ReopenOpen"],"mappings":"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","sourcesContent":["import React, { Component }  from 'react';\nimport { GetData, PutData, DeleteData } from '../../services/Methods/API';\nimport ModalConfirmBasic from '../Modal';\nimport { BoxItem } from './BoxItem';\n\nclass BoxList extends Component {\n    constructor() {\n      super();\n      this.state = {\n        list:[],\n        document:{},\n        queryList: \"\",\n        queryBlacklist: \"\",\n        isBlacklistOffOpen: false,\n        isOpenDelete: false,\n        isBlacklistOpen: false\n      }\n    }\n\n    BlacklistOffOpen = () => this.setState({isBlacklistOffOpen: true});\n    BlacklistOffClose = () => this.setState({isBlacklistOffOpen: false});\n\n    DeleteOpen = () => this.setState({isOpenDelete: true});\n    DeleteClose = () => this.setState({isOpenDelete: false});\n\n    BlacklistOpen = () => this.setState({isBlacklistOpen: true});\n    BlacklistClose = () => this.setState({isBlacklistOpen: false});\n    \n    getData = async () => {\n      const list = await GetData(\"documents\");\n      if (list.status=== \"success\") {\n        this.setState({list: list.data});\n      }\n    }      \n  \n    componentDidMount() {\n        this.getData()\n    }\n\n    componentDidUpdate() {\n        const { addItem } = this.props\n        if (typeof addItem === \"undefined\") {\n            return \n        }\n        if (Object.keys(addItem).length>0) {\n            this.getData()\n            this.props.refreshItem()\n        }\n    }\n\n    setBlacklist = async (id) => {\n        const status = await PutData(\"\", `blacklist/add/${id}`)\n\n        if (status===204) {\n            this.getData()\n\n            return\n        }\n        this.clearDocument()\n    }\n\n    clearDocument = () => this.setState({document: {}})\n\n    unsetBlacklist = async (id) => {\n        const status = await PutData(\"\", `blacklist/del/${id}`)\n\n        if (status===204) {\n            this.getData()\n\n            return\n        }\n        this.clearDocument()\n    }\n\n    delete = async (id) => {\n        const status = await DeleteData(id)\n\n        if (status===204) {\n            this.getData()\n\n            return \n        }\n        this.clearTask()\n    }\n  \n    render() {\n      const { list, isBlacklistOffOpen, isOpenDelete, queryCloseDone, queryList, isBlacklistOpen, document } = this.state\n\n      return (\n          <div>\n              <ModalConfirmBasic\n                content={`Remove \"${typeof document.cpf===\"undefined\"?document.cnpj:document.cpf}\" da blacklist?`}\n                title={\"Confirmar Remoção\"}\n                modalIsOpen={isBlacklistOffOpen}\n                onConfirm={()=>{\n                    this.BlacklistOffClose()\n                    this.unsetBlacklist(document._id)\n                }}\n                onCancel={()=>{\n                    this.setState({document: {}}, ()=>this.BlacklistOffClose())\n                }}\n               />\n\n            <ModalConfirmBasic\n                content={`Confirmar a inclusão de \"${typeof document.cpf===\"undefined\"?document.cnpj:document.cpf}\" na blacklist?`}\n                title={\"Confirmar Inclusão\"}\n                modalIsOpen={isBlacklistOpen}\n                onConfirm={()=>{\n                    this.BlacklistClose()\n                    this.setBlacklist(document._id)\n                }}\n                onCancel={()=>{\n                    this.setState({document: {}}, ()=>this.BlacklistClose())\n                }}\n               />\n\n            {/* <ModalConfirmBasic\n                content={`A task \"${task.title}\" será excluída, confirma ação?`}\n                title={\"Confirmar exclusão\"}\n                modalIsOpen={isOpenDelete}\n                onConfirm={()=>{\n                    this.DeleteClose()\n                    this.delete(task.id)\n                }}\n                onCancel={()=>{\n                    this.setState({task: {}}, ()=>this.DeleteClose())\n                }}\n               /> */}\n            <div className=\"row\">\n                <div className=\"col-md-6\">\n                    <div className=\"my-3 p-3 bg-white rounded shadow-sm\">\n                        <div className=\"row\">\n                            <div className=\"col-md\">\n                                <h6 className=\"pb-2 mb-0 title-list\">Lista de CPF/CNPJ</h6>\n                            </div>\n                            <div className=\"col-md-5\">\n                                <input \n                                    type=\"text\"\n                                    onKeyUp={(input)=>this.setState({queryList:input.target.value})} \n                                    className=\"form-control form-control-sm mr-sm-2 inputSearch-position\" \n                                    placeholder=\"filtrar \" />\n                            </div>\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"col border-bottom border-gray\"></div>\n                        </div>\n                    {typeof list !== \"undefined\" && \n                        list.length > 0 && \n                        list\n                            .filter(document=>document.status!=='blocked')\n                            .filter(document=>{\n                                const query = queryList.toLocaleLowerCase();\n                            \n                                if (query.length===0) {\n                                    return document;\n                                }\n\n                                if (typeof document.cnpj !== \"undefined\" && document.cnpj.includes(query)) {\n                                    return document;\n                                }\n\n                                if (typeof document.cpf !== \"undefined\" && document.cpf.includes(query)) {\n                                    return document;\n                                }\n\n                                return false\n                            })\n                            .map((document, i)=>{\n                                return <BoxItem\n                                            key={i}\n                                            document={document}\n                                            onBlacklist={()=>this.setState({document: document}, ()=>this.BlacklistOpen())} \n                                            />\n                            })}\n                    </div>\n                </div>\n                <div className=\"col-md-6\">\n                    <div className=\"my-3 p-3 bg-white rounded shadow-sm\">\n                        <div className=\"row\">\n                            <div className=\"col-md-4\">\n                                <h6 className=\"pb-2 mb-0 title-list\">Blacklist</h6>\n                            </div>\n                            <div className=\"col-md\">\n                                <input \n                                    type=\"text\" \n                                    onKeyUp={(input)=>this.setState({queryCloseDone:input.target.value})} \n                                    className=\"form-control form-control-sm mr-sm-2 inputSearch-position\" \n                                    placeholder=\"filtrar por titulo\" />\n                            </div>\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"col border-bottom border-gray\"></div>\n                        </div>\n                        \n                        {typeof list !== \"undefined\" && \n                        list.length > 0 && \n                        list\n                            .filter(document=>document.status==='blocked')\n                            .filter(document=>{\n                                const query = queryList.toLocaleLowerCase();\n                            \n                                if (query.length===0) {\n                                    return document;\n                                }\n\n                                if (typeof document.cnpj !== \"undefined\" && document.cnpj.includes(query)) {\n                                    return document;\n                                }\n\n                                if (typeof document.cpf !== \"undefined\" && document.cpf.includes(query)) {\n                                    return document;\n                                }\n\n                                return false\n                            }).map((document, i)=>{\n                                return <BoxItem\n                                            key={i} \n                                            document={document} \n                                            offBlacklist={()=>{\n                                                this.setState({document: document}, ()=>this.ReopenOpen())\n                                            }\n                                            } />\n                            })}\n                    </div>\n                </div>\n            </div>\n        </div>\n      );\n    }\n  }\n  \nexport default BoxList;"]},"metadata":{},"sourceType":"module"}